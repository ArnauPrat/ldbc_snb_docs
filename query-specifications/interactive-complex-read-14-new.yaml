workload: Interactive
operation: complex
number: 14 new
title: Trusted connection paths (new version)
description: |
  **This query is WORK-IN-PROGRESS. It is going to be used in the new version of SNB Interactive (v2.0, to be released).**

  Given two *Persons*, find a cheapest path between two *Persons*, in the interaction subgraph.

  The interaction subgraph is based on the *Person*-*knows*-*Person* graph where the *Person* endpoints of each knows edge have at least one interaction between them.
  The edge weights are determined as $\max\lfloor 40 - \sqrt{\textit{numInteractions}}, 1 \rfloor$.
  
  An interaction is defined as a direct reply *Comment* (by one of the *Persons*) to a *Message* (by the other *Person*).
parameters:
  - name: person1Id
    type: ID
  - name: person2Id
    type: ID
result:
  - name: personIdsInPath
    type: '[ID]'
    description: Identifiers representing an ordered sequence of the *Persons* in the path
    category: calculated
  - name: pathWeight
    type: 64-bit Integer
    category: calculated
choke_points: [3.3, 5.3, 7.2, 7.3, 7.5, 7.7, 8.1, 8.2, 8.3, 8.6] #TODO
relevance: |
  TODO
